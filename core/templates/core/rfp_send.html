{% extends 'core/base.html' %}

{% block content %}
    <h1>ðŸš€ Send RFP to Vendors</h1>
    <p>Select the vendors you wish to invite to bid on this project.</p>

    <div class="card">
        <h3>Request Summary</h3>
        <p>"{{ rfp.original_prompt }}"</p>
    </div>

    <div class="card">
        <form method="POST">
            {% csrf_token %}
            <h3 style="margin-top: 0;">Select Vendors</h3>
            
            {% for vendor in vendors %}
            <div style="padding: 10px; border-bottom: 1px solid #eee; display: flex; align-items: center;">
                <input type="checkbox" name="vendors" value="{{ vendor.id }}" id="v{{ vendor.id }}" style="width: auto; margin: 0 10px 0 0;">
                <label for="v{{ vendor.id }}" style="cursor: pointer; width: 100%;">
                    <strong>{{ vendor.name }}</strong> 
                    <span style="color: #666; font-size: 0.9em;">({{ vendor.email }})</span>
                </label>
            </div>
            {% empty %}
            <p class="text-danger">No vendors found! Please add vendors first.</p>
            {% endfor %}

            <br>
            <button type="submit" class="btn btn-success">Send Emails via SMTP</button>
            <a href="/" class="btn btn-secondary" style="margin-left: 10px;">Cancel</a>
        </form>
    </div>
{% endblock %}